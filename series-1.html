<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>naomi ngoo richmond</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="gallery.css">
  </head>

  <body>
  <!-- nav  -->
     <nav class="menu">
       <div class="menu-left menu-item">
        <div class="left-side">
          <a href="index.html" class="name"><span>naomi ngoo richmond</span></a>
        </div>
        <div class="right-side">
          <a href="about.html" class="menu-link link--elara"><span>about</span></a>
          <a href="contact.html" class="menu-link link--elara"><span>contact</span></a>
        </div>
       </div>
     </nav>

  <div class="series-container">
    <section class="slider slider--1">
      <img src="photos/photo-1.jpeg" class="img" alt="">
    </section>
    <section class="slider slider--2">
      <img src="photos/photo-7.jpeg" class="img" alt="">
    </section>
    <section class="slider slider--3">
      <img src="photos/photo-8.jpeg" class="img" alt="">
    </section>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/ScrollTrigger.min.js"></script>
  <script>
    gsap.registerPlugin(ScrollTrigger);

    const sections = gsap.utils.toArray("section");
    let maxWidth = 0;

    const getMaxWidth = () => {
      maxWidth = 100;
      sections.forEach((section) => {
        maxWidth += section.offsetWidth;
      })
    };
    getMaxWidth();
    ScrollTrigger.addEventListener("refreshInit", getMaxWidth);

    gsap.to(sections, {
      x: () => `-${maxWidth - window.innerWidth}`,
      ease: "linear",
      scrollTrigger: {
        trigger: "body",
        pin: true,
        scrub: true,
        end: () => `+=${maxWidth}`,
        invalidateOnRefresh: true
      }
    });

    sections.forEach((sct, i) => {
      ScrollTrigger.create({
        trigger: sct,
        start: () => 'top top-=' + (sct.offsetLeft - window.innerWidth/2) * (maxWidth / (maxWidth - window.innerWidth)),
        end: () => '+=' + sct.offsetWidth * (maxWidth / (maxWidth - window.innerWidth))
      });
    });
  </script>
</body>
</html>
